!function(){"use strict";function t(t,e,n,r,i,a,o){try{var l=t[a](o),d=l.value}catch(t){return void n(t)}l.done?e(d):Promise.resolve(d).then(r,i)}function e(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function l(e){t(o,i,a,l,d,"next",e)}function d(e){t(o,i,a,l,d,"throw",e)}l(void 0)}))}}document.addEventListener("alpine:init",(()=>{window.Alpine.store("selection",{active:"repos",select(t){this.active=t}})}));const n=t=>{var e;const r=t.getAttribute("data-open"),i=t.getAttribute("data-inner"),a=null===(e=t.parentElement)||void 0===e?void 0:e.querySelectorAll(`tr[data-collapse="${r}-${i}"]`);null==a||a.forEach((t=>{"true"==t.getAttribute("data-loaded")&&n(t),t.remove()}))},r=(i=e((function*(t){var r;if(t.target instanceof HTMLTableCellElement)null===(r=t.target.parentElement)||void 0===r||r.click();else try{const r=t.target;if("true"==r.getAttribute("data-loaded")){n(r),r.setAttribute("data-loaded","false");const t=r.firstElementChild;return void(t.innerText=t.innerText.replace("📂","📁"))}const i=r.getAttribute("data-url");if("file"==r.getAttribute("data-type"))return void window.open(i,"_blank");const a=yield fetch(i).then(function(){var t=e((function*(t){return yield t.json()}));return function(e){return t.apply(this,arguments)}}());r.setAttribute("data-loaded","true");const o=r.firstElementChild;o.innerText=o.innerText.replace("📁","📂");const l=+r.getAttribute("data-inner"),d=r.getAttribute("data-open");Object.keys(a).forEach((t=>{var e;const n=document.createElement("tr");n.classList.add("item-list"),n.setAttribute("data-collapse",`${d}-${l}`),n.setAttribute("data-type",a[t].isDir?"dir":"file"),n.setAttribute("data-url",a[t].url),n.setAttribute("data-inner",(l+1).toString()),n.innerHTML=`<td style="padding-left: ${1*l}rem">${a[t].isDir?"📁":"📄"} ${t}</td> <td>${a[t].size}</td> <td>${a[t].modTime}</td>`,null===(e=r.parentNode)||void 0===e||e.insertBefore(n,r.nextSibling)}))}catch(t){console.error(t)}})),function(t){return i.apply(this,arguments)});var i;window.listDir=r}();
